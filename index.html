<!DOCTYPE html>
<html>
<head>
  <!--Import Google Icon Font-->
  <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700' rel='stylesheet' type='text/css'>
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
  <!--Import jQuery before materialize.js-->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="js/materialize.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('select').material_select();
    });
  </script>
  <div class="container">
  <div class="row">
  <div class="col s12 m12">
    <div class="card white">
      <div class="row valign-wrapper center-align" style="margin-bottom: 0px;">
            <div class="col s12 m12 black-text" style="font-weight: 400; font-size: 32px;">
                <img src="images/ge.png" alt="" style="height: 80px; vertical-align: middle;">
                <span>GE Software</span>
            </div>
          </div>
      <div class="card-action">
        <!-- Sign-up Form -->
        <form id="info-form" class="col s12">
          <!-- First Row Of Data (First, Last Name) -->
          <div class="row">
            <!-- 50% Div -->
            <div class="input-field col s6">
              <!-- Field: First Name -->
              <input id="first_name" type="text" class="validate" required="">
              <label for="first_name">First Name</label>
            </div>
            <!-- 50% Div -->
            <div class="input-field col s6">
              <!-- Field: Last Name -->
              <input id="last_name" type="text" class="validate" required="">
              <label for="last_name">Last Name</label>
            </div>
          </div>
          <!-- Second Row Of Data -->
          <div class="row">
            <!-- 50% Div -->
            <div class="input-field col s6">
              <!-- Field: College -->
              <input id="school" type="text" class="validate" required="">
              <label for="school">College</label>
            </div>
            <!-- 50% Div -->
            <div class="input-field col s6">
              <!-- Field: Interested In -->
              <select id="year" required="">
                <option value="" disabled selected>I am a...</option>
                <option value="1">Freshman</option>
                <option value="2">Sophomore</option>
                <option value="3">Junior</option>
                <option value="4">Senior</option>
              </select>
              <label for="year">Grade</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <select id="job" required>
                <option value="" disabled selected>I am interested in...</option>
                <option value="1">Internship</option>
                <option value="2">Full Time</option>
              </select>
              <label for="job">What Job Opportunities Are You Interested In?</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input id="email" type="email" class="validate" required="">
              <label for="email" data-error="Invalid Email!" data-success="Valid Email!" style="width: 200px;">Email</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <button class="btn waves-effect waves-light right" type="submit" name="action">Submit
                <i class="material-icons right">send</i>
              </button>
            </div>
          </div>
        </form>
        <script type="text/javascript">

          $('#info-form').submit(function(e) {
            // NECESSARY SO FORM DOESN'T AUTO SUBMIT OR SOMETHING
            e.preventDefault();

            //get data from form
            var formData = {
                firstName: $("#first_name").val(),
                lastName: $("#last_name").val(),
                college: $("#school").val(),
                grade: $("#year").val(),
                email: $("#email").val(),
                jobInterest: $("#job").val()
            };

            console.log(formData);

            $.ajax({
              type: "POST",
              beforeSend: function(request) {
                request.setRequestHeader("X-Parse-Application-Id", '');
                request.setRequestHeader("X-Parse-REST-API-Key", '');
                request.setRequestHeader("Content-Type", "application/json");
              },
              url: 'https://api.parse.com/1/classes/contact',
              data: JSON.stringify(formData),
              success: function(data) {
                console.log(data);
                console.log("SUCCESS");
              },
              error: function(data) {
                console.log(data)
                console.log("ERROR");
              }
            });
          });
        </script>

      </div>
    </div>
  </div>
  </div>
  </div>
</div>
</body>
</html>
